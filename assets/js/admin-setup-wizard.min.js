!function(e){var t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=307)}({307:function(e,t){jQuery(document).ready((function(e){var t=e("#atbdp_dummy_form"),i=0,n="";e(t).on("submit",(function(t){t.preventDefault(),e(".atbdp_dummy_body").fadeOut(300),e(".atbdp-c-footer").fadeOut(300),e(".directorist-importer__importing").fadeIn(300),e(this).parent(".csv-fields").fadeOut(300),e(".atbdp-mapping-step").removeClass("active").addClass("done"),e(".atbdp-progress-step").addClass("active");var o=0;!function t(){var r=new FormData;r.append("action","atbdp_dummy_data_import"),r.append("file",e("#dummy_csv_file").val()),r.append("limit",e("#atbdp-listings-to-import").val()),r.append("image",e("#atbdp-import-image").is(":checked")?1:""),r.append("delimiter",","),r.append("update_existing",""),r.append("position",i),r.append("directorist_nonce",import_export_data.directorist_nonce),r.append("pre_mapped",!0),e.ajax({method:"POST",processData:!1,contentType:!1,url:import_export_data.ajaxurl,data:r,success:function(r){r.error?console.log({response:r}):(r.imported,r.failed,n=r.url,e(".importer-details").html("Imported ".concat(r.next_position," out of ").concat(r.total)),e(".directorist-importer-progress").val(r.percentage),"100"!=r.percentage&&o<150?(i=r.next_position,t(),o++):window.location=r.url,e('input[name="save_step"]').addClass("btn-hide"),e(".directorist-importer-length").css("width",r.percentage+"%"))},error:function(e){window.location=n}})}()})),e(".directorist-submit-importing").on("click",(function(t){t.preventDefault(),e(this).addClass("loading"),e(".directorist_dummy_data_log").text("Preparing data...");var i=0;!function t(){var n={action:"directorist_setup_wizard",directorist_nonce:import_export_data.directorist_nonce};e('input[name="directory_type_settings"]').is(":checked")&&(n.directory_type_settings=!0),e('input[name="share_non_sensitive_data"]').is(":checked")&&(n.share_non_sensitive_data=!0),e('input[name="import_listings"]').is(":checked")&&(n.import_listings=!0),e('input[name="required_plugins"]').is(":checked")&&(n.required_plugins=!0),n.counter=i,e.ajax({method:"POST",url:import_export_data.ajaxurl,data:n,success:function(n){console.log(n),e(".directorist_dummy_data_log").empty().text(n.log),n.completed&&(e(".directorist_dummy_data_log").empty().text(n.log),window.location=n.url),i++,t()}})}()})),e(".atbdp-sw-gmap-key").hide(),e("#select_map").on("change",(function(t){"google"===e(this).val()?e(".atbdp-sw-gmap-key").show():e(".atbdp-sw-gmap-key").hide()})),"google"===e("#select_map").val()?e(".atbdp-sw-gmap-key").show():e(".atbdp-sw-gmap-key").hide(),e(".atbdp-sw-featured-listing").hide(),e("#enable_monetization").on("change",(function(){!0===e(this).prop("checked")?e(".atbdp-sw-featured-listing").show():e(".atbdp-sw-featured-listing").hide()})),!0===e("#enable_monetization").prop("checked")?e(".atbdp-sw-featured-listing").show():e(".atbdp-sw-featured-listing").hide(),e(".atbdp-sw-listing-price").hide(),e("#enable_featured_listing").on("change",(function(){!0===e(this).prop("checked")?e(".atbdp-sw-listing-price").show():e(".atbdp-sw-listing-price").hide()})),!0===e("#enable_monetization").prop("checked")?e(".atbdp-sw-listing-price").show():e(".atbdp-sw-listing-price").hide(),e("#select_map").select2({minimumResultsForSearch:-1}),e("#atbdp-listings-to-import").select2({minimumResultsForSearch:-1}),e("#others-listing").on("change",(function(){e(this).is(":checked")?e(".directorist-setup-wizard__checkbox--custom").slideDown():e(".directorist-setup-wizard__checkbox--custom").slideUp()}));var o=document.querySelectorAll('.directorist-setup-wizard__checkbox input[type="checkbox"]'),r=document.querySelector(".directorist-setup-wizard__counter .directorist-setup-wizard__counter__desc"),a=document.querySelector(".directorist-setup-wizard__counter .selected_count"),d=document.querySelector(".directorist-setup-wizard__counter .max_count"),s=function(){var e=Array.from(o).filter((function(e){return e.checked})).length;a.textContent=e,d.textContent=5,e>=5?(r.style.display="block",o.forEach((function(e){e.checked||(e.disabled=!0)}))):(r.style.display="none",o.forEach((function(e){e.disabled=!1})))};o.forEach((function(e){e.addEventListener("change",s)})),s()}))}});